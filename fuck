To connect a Rocky Linux server to a domain and use Active Directory Domain Services (ADDS) users, follow these steps:

### 1. Install Required Packages
Run the following commands to install necessary tools:

sudo dnf install realmd sssd sssd-tools samba-common-tools krb5-workstation oddjob oddjob-mkhomedir adcli


### 2. Discover the Domain
Use `realmd` to discover the domain:

sudo realm discover <domain-name>

Replace `<domain-name>` with your AD domain (e.g., `example.com`).

### 3. Join the Domain
Join the domain using the following command:

sudo realm join --user=<domain-admin-user> <domain-name>

Replace `<domain-admin-user>` with a domain admin username and `<domain-name>` with your AD domain.

### 4. Verify Domain Connection
Check if the server is connected to the domain:

realm list


Set proper permissions for the file:

sudo chmod 600 /etc/sssd/sssd.conf


### 6. Restart Services
Restart the SSSD service:

sudo systemctl restart sssd


### 7. Test AD User Login
Try logging in with an AD user:

su - <AD-username>

Replace `<AD-username>` with an Active Directory username.

This setup allows AD users to authenticate on the Rocky Linux server.



[libdefaults]
 default_realm = EDELHARDTS.NO
 dns_lookup_realm = true
 dns_lookup_kdc = true
 ticket_lifetime = 24h
 renew_lifetime = 7d
 forwardable = true
 rdns = false
 udp_preference_limit = 0

 default_tkt_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96
 default_tgs_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96
 permitted_enctypes   = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96

